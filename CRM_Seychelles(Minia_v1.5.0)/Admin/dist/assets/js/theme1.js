const storageKey="theme-preference",onClick=()=>{theme.value="light"===theme.value?"dark":"light",setPreference()},getColorPreference=()=>localStorage.getItem(storageKey)?localStorage.getItem(storageKey):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",setPreference=()=>{localStorage.setItem(storageKey,theme.value),reflectPreference()},reflectPreference=()=>{document.body.setAttribute("data-layout-mode",theme.value),"dark"==theme.value?(document.querySelector(".logo-"+theme.value).classList.add("d-block"),document.querySelector(".logo-"+theme.value).classList.remove("d-none"),document.querySelector(".logo-light").classList.remove("d-block"),document.querySelector(".logo-light").classList.add("d-none")):(document.querySelector(".logo-"+theme.value).classList.add("d-block"),document.querySelector(".logo-"+theme.value).classList.remove("d-none"),document.querySelector(".logo-dark").classList.remove("d-block"),document.querySelector(".logo-dark").classList.add("d-none")),document.querySelector("#mode-setting-btn")?.setAttribute("aria-label",theme.value)},theme={value:getColorPreference()};reflectPreference(),window.onload=()=>{reflectPreference(),document.querySelector("#mode-setting-btn").addEventListener("click",onClick)},window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:e})=>{theme.value=e?"dark":"light",setPreference()});