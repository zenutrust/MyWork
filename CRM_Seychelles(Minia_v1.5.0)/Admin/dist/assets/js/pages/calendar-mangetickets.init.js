!function(s){"use strict";function e(){}e.prototype.init=function(){var i=s("#event-modal"),t=s("#modal-title"),a=s("#form-event"),r=null,o=null,d=document.getElementsByClassName("needs-validation"),r=null,o=null,n=new Date,e=n.getDate(),l=n.getMonth(),c=n.getFullYear();n.getTime(),FullCalendarInteraction.Draggable,document.getElementById("external-events"),new Date(c,l,1),new Date(c,l,e-5),new Date(c,l,e-2),new Date(c,l,e-3,16,0),new Date(c,l,e+4,16,0),new Date(c,l,e,10,30),new Date(c,l,e,12,0),new Date(c,l,e,14,0),new Date(c,l,e+1,19,0),new Date(c,l,e+1,22,30),new Date(c,l,28),new Date(c,l,29);document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("calendar"),l=new FullCalendar.Calendar(e,{plugins:["bootstrap","interaction","dayGrid","timeGrid"],editable:!0,droppable:!0,selectable:!0,defaultView:"dayGridMonth",themeSystem:"bootstrap",header:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},eventClick:function(e){i.modal("show"),a[0].reset(),r=e.event,flatpickr("#event-timepicker",{allowInput:!0,altInput:!0,mode:"single",enableTime:!0,noCalendar:!0,dateFormat:"H:i",defaultDate:r.start}),s("#event-title").val(r.title),s("#event-category").val(r.classNames[0]),t.text("Edit Event"),o=null},dateClick:function(e){e=e,i.modal("show"),a.removeClass("was-validated"),a[0].reset(),t.text("Add Event"),o=e,flatpickr("#event-timepicker",{allowInput:!0,altInput:!0,mode:"single",enableTime:!0,noCalendar:!0,dateFormat:"H:i",defaultDate:new Date(o.date.getFullYear(),o.date.getMonth(),o.date.getDay(),n.getHours(),n.getMinutes())}),s("#event-timepicker").val(),s("#event-title").val(),s("#event-category").val()},eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1},events:n});l.render(),s(a).on("submit",function(e){e.preventDefault();s("#form-event :input");var t=s("#event-timepicker").val(),a=s("#event-title").val(),n=s("#event-category").val();!1===d[0].checkValidity()?(event.preventDefault(),event.stopPropagation(),d[0].classList.add("was-validated")):(r?(e=r.start,console.log("sel date"+e.getDay()),console.log("updatedTime"+t.charAt(0)+t.charAt(1)),r.setDates(new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.charAt(0)+t.charAt(1),t.charAt(2)+t.charAt(3)),new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.charAt(0)+t.charAt(1),t.charAt(2)+t.charAt(3)),!0),r.setProp("classNames",[n]),r.setProp("title",a)):o&&(console.log(o.date),n={title:a,start:o.date,allDay:!1,displayEventTime:!0,className:[n]},l.addEvent(n)),i.modal("hide"))}),s("#btn-delete-event").on("click",function(e){r&&(r.remove(),r=null,i.modal("hide"))})})},s.CalendarPage=new e,s.CalendarPage.Constructor=e}(window.jQuery),function(){"use strict";window.jQuery.CalendarPage.init()}(),$(document).ready(function(){$('a[href="#actions-reminders-tab"]').on("click",function(){$('a[href="#actions-reminders-tab"]').trigger("click")})});